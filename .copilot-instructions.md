# React Libraries Monorepo - Copilot Instructions

## Overview
This is a TypeScript monorepo containing React component libraries and utilities developed by @geee-be. The monorepo uses pnpm workspaces for package management and includes modern tooling for development, building, and publishing.

## Repository Structure
- **Root**: Contains monorepo configuration and shared tooling
- **Packages**: Located in `packages/@geee-be/` directory
  - `react-twui`: Main UI component library with Tailwind CSS v4 (35+ components including Alert, Button, Card, Dialog, Input, Select, Calendar, etc.)
  - `react-utils`: Utility hooks and helpers for React applications (6 custom hooks, multiple utility functions)

## Technology Stack
- **Package Manager**: pnpm with workspaces for efficient dependency management
- **Build Tools**:
  - tsup for TypeScript compilation with dual ESM/CJS output (react-twui)
  - tsc for direct TypeScript compilation (react-utils)
- **CSS Framework**: Tailwind CSS v4 (alpha) with modern CSS features
- **UI Foundation**: Radix UI primitives for accessibility-first components
- **Linting**: Biome for code formatting, linting, and import organization
- **Versioning**: Changesets for semantic versioning and changelog generation
- **Development**: Storybook for component development and documentation
- **TypeScript**: Strict mode enabled across all packages for type safety

## Key Configuration Files
- `pnpm-workspace.yaml`: Defines workspace packages
- `biome.jsonc`: Code formatting and linting configuration
- `tsconfig.json`: Root TypeScript configuration
- `.changeset/`: Version management and changelog generation

## Development Workflow
1. **Install dependencies**: `pnpm install`
2. **Build all packages**: `pnpm build`
3. **Start development**: `pnpm start:dev` (parallel watch mode)
4. **Lint code**: `pnpm lint` (runs across all packages)
5. **Fix linting issues**: `pnpm lint:biome:fix`
6. **Create changeset**: `pnpm -w changes` (for version bumps)

## Package Management
- Uses workspace protocol (`workspace:*`) for internal dependencies
- Each package has its own build, lint, and development scripts
- Supports both ESM and CommonJS builds for better compatibility
- External dependencies managed per package to avoid version conflicts

## Code Standards
- TypeScript strict mode enabled across all packages
- Biome for consistent formatting (single quotes, 2-space indentation)
- Unused exports detection with ts-unused-exports
- Type checking enforced across all packages
- Comprehensive README files for both developers and npm consumers
- Proper attribution to shadcn/ui and Radix UI in documentation

## Release Process
- Uses Changesets for semantic versioning
- Automated changelog generation
- Supports alpha/beta releases
- Each package is independently versioned
- NPM publishing workflow configured

## Recent Updates
- Comprehensive README files created for root and individual packages
- Updated Copilot instruction files with detailed technical guidance
- Enhanced documentation with proper crediting to shadcn/ui and Radix UI
- Improved component categorization and structure documentation
- Added detailed usage examples and integration patterns

## Development Guidelines
- All components should be built with accessibility in mind (using Radix UI primitives)
- Follow shadcn/ui design patterns and component composition
- CSS uses Tailwind utility classes with CSS custom properties for theming
- Components should be tree-shakeable and have minimal bundle impact
- Storybook stories should be provided for visual components
- TypeScript types should be exported for all public APIs
- Hooks should be SSR-compatible and handle hydration safely
- Performance optimization through proper memoization and cleanup
- Comprehensive error handling and graceful fallbacks

## Common Patterns

### Component Composition
```typescript
// Compound component pattern for complex UI elements
<Card>
  <Card.Header>
    <Card.Title>User Profile</Card.Title>
    <Card.Description>Manage your account</Card.Description>
  </Card.Header>
  <Card.Content>
    <UserForm />
  </Card.Content>
  <Card.Footer>
    <Button>Save</Button>
  </Card.Footer>
</Card>
```

### Hook Usage Patterns
```typescript
// SSR-safe state management
const [theme, setTheme] = useLocalState('theme', 'light');
const isClient = useIsClient();

// Cross-tab communication
const [message, postMessage] = useBroadcastChannel('user-channel');

// Responsive behavior
const isMobile = useIsMobile(768);
```

### Styling Patterns
```typescript
// Component variants with CVA
const buttonVariants = cva('base-classes', {
  variants: {
    variant: {
      default: 'bg-primary text-primary-fg',
      outline: 'border border-input bg-background',
    },
    size: {
      sm: 'h-9 px-3 text-sm',
      lg: 'h-11 px-8 text-lg',
    },
  },
});

// CSS custom properties for theming
:root {
  --primary: 220 100% 50%;
  --primary-fg: 0 0% 100%;
}
```
